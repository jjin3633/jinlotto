# ğŸ² JinLotto â€” ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜ í”„ë¡œì íŠ¸ ì™„ì „ ê°€ì´ë“œ (2025.09.22)

ì´ ë¬¸ì„œëŠ” **ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜** í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ê²ƒì„ ë‹´ì€ **ì™„ì „í•œ ìš´ì˜ ê°€ì´ë“œ**ì…ë‹ˆë‹¤. ì‹ ê·œ ê°œë°œìê°€ ì´ ë¬¸ì„œë§Œìœ¼ë¡œë„ í”„ë¡œì íŠ¸ë¥¼ ì™„ì „íˆ ì´í•´í•˜ê³  ìš´ì˜í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

> âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: ì‹¤ì œ API í‚¤ë‚˜ ì›¹í›… URLì€ ì´ ë¬¸ì„œì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  ì‹œí¬ë¦¿ì€ Render í™˜ê²½ë³€ìˆ˜ì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

1. [ğŸ¯ ì„œë¹„ìŠ¤ ê°œìš”](#-ì„œë¹„ìŠ¤-ê°œìš”)
2. [ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°](#ï¸-í”„ë¡œì íŠ¸-êµ¬ì¡°)
3. [ğŸš€ ë°°í¬ ë° ìš´ì˜](#-ë°°í¬-ë°-ìš´ì˜)
4. [ğŸ’» ë¡œì»¬ ê°œë°œ í™˜ê²½](#-ë¡œì»¬-ê°œë°œ-í™˜ê²½)
5. [ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸](#-api-ì—”ë“œí¬ì¸íŠ¸)
6. [ğŸ¤– ML ì˜ˆì¸¡ íŒŒì´í”„ë¼ì¸](#-ml-ì˜ˆì¸¡-íŒŒì´í”„ë¼ì¸)
7. [ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](#-í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°)
8. [ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#ï¸-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
9. [â° ìë™í™” ë° í¬ë¡  ì‘ì—…](#-ìë™í™”-ë°-í¬ë¡ -ì‘ì—…)
10. [ğŸ”’ ë³´ì•ˆ ë° í™˜ê²½ë³€ìˆ˜](#-ë³´ì•ˆ-ë°-í™˜ê²½ë³€ìˆ˜)
11. [ğŸ“Š SEO ë° ëª¨ë‹ˆí„°ë§](#-seo-ë°-ëª¨ë‹ˆí„°ë§)
12. [ğŸ› ï¸ ë„êµ¬ ë° ìŠ¤í¬ë¦½íŠ¸](#ï¸-ë„êµ¬-ë°-ìŠ¤í¬ë¦½íŠ¸)
13. [ğŸ“ˆ ìµœê·¼ ì£¼ìš” ë³€ê²½ì‚¬í•­](#-ìµœê·¼-ì£¼ìš”-ë³€ê²½ì‚¬í•­)
14. [ğŸš¨ ìš´ì˜ ëŸ°ë¶](#-ìš´ì˜-ëŸ°ë¶)
15. [âœ… ì¸ìˆ˜ì¸ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸](#-ì¸ìˆ˜ì¸ê³„-ì²´í¬ë¦¬ìŠ¤íŠ¸)

---

## ğŸ¯ ì„œë¹„ìŠ¤ ê°œìš”

### í•µì‹¬ ì»¨ì…‰
- **ì„œë¹„ìŠ¤ëª…**: ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜ (JinLotto)
- **ì»¨ì…‰**: ìŠ¤íŠ¸ë ˆì¹­ í›„ AI ì¶”ì²œ ë¡œë˜ ë²ˆí˜¸ë¥¼ ë°›ëŠ” ê±´ê°•í•œ ìŠµê´€ í˜•ì„± ì„œë¹„ìŠ¤
- **URL**: https://stretchinglotto.motiphysio.com/ (ë©”ì¸), http://43.201.75.105:8000 (ì„œë¸Œ)

### ì‚¬ìš©ì í”Œë¡œìš°
1. **ìŠ¤íŠ¸ë ˆì¹­ í›„ ë²ˆí˜¸ ë°›ê¸°** ë²„íŠ¼ í´ë¦­
2. **ìŠ¤íŠ¸ë ˆì¹­ ì˜ìƒ 1ë¶„ ì‹œì²­** (YouTube API ëœë¤ ì˜ìƒ)
3. **ìŠ¤íŠ¸ë ˆì¹­ ì™„ë£Œ** í›„ **ë‹‰ë„¤ì„ ì…ë ¥**
4. **AI ë¶„ì„ëœ ê°œì¸ ë§ì¶¤ ë¡œë˜ ë²ˆí˜¸** í™•ì¸

### ê¸°ìˆ  ìŠ¤íƒ
- **ë°±ì—”ë“œ**: FastAPI + SQLAlchemy + Supabase PostgreSQL
- **í”„ë¡ íŠ¸ì—”ë“œ**: Vanilla HTML/CSS/JavaScript
- **ML**: scikit-learn RandomForestClassifier (í¬ì§€ì…˜ë³„ 6ê°œ ëª¨ë¸)
- **ë°°í¬**: Render (Web Service + 7ê°œ Cron Jobs)
- **ì•Œë¦¼**: Slack Webhooks (ë©”ì¸ + ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼)
- **ì™¸ë¶€ API**: ë™í–‰ë³µê¶Œ API, YouTube API

### í•µì‹¬ ìš´ì˜ í¬ì¸íŠ¸
1. **í•˜ë£¨ 1íšŒ ê³ ì • ë²ˆí˜¸**: ì‚¬ìš©ìë³„ ì¿ í‚¤(`jl_uid`) ê¸°ë°˜ ê³ ì • ì¶”ì²œ
2. **ë¹ ë¥¸ ì‘ë‹µ**: ì²« ìš”ì²­ ì‹œ í†µê³„ì  ë¹ ë¥¸ ì‘ë‹µ â†’ ë°±ê·¸ë¼ìš´ë“œ ML ì •ì œ
3. **ìë™ ë§¤ì¹­**: ë§¤ì£¼ ì›”ìš”ì¼ 10ì‹œ KST ìë™ ë‹¹ì²¨ ê²°ê³¼ ë§¤ì¹­ ë° ìŠ¬ë™ ì•Œë¦¼
4. **ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼**: ë§¤ì‹œê°„ 50ë¶„ MZ ê°ì„± ìŠ¬ë™ ì•Œë¦¼ (10:50~16:50)

---

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ìŠ¹ì§„/1. Project/2. ë²ˆí˜¸ì¶”ì²¨/
â”œâ”€â”€ ğŸ“ assets/                     # ì •ì  ì—ì…‹ (ì´ë¯¸ì§€, ë¯¸ë””ì–´)
â”‚   â”œâ”€â”€ ğŸ“ images/                 # ì´ë¯¸ì§€ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ favicon.png            # íŒŒë¹„ì½˜
â”‚   â”‚   â”œâ”€â”€ laurel1.png, laurel2.png # ë¡œë  ì¥ì‹ ì´ë¯¸ì§€
â”‚   â”‚   â””â”€â”€ logo.svg               # ë¡œê³  SVG
â”‚   â””â”€â”€ ğŸ“ media/
â”‚       â””â”€â”€ Main_KR_Home.mp4       # ë©”ì¸ ë¹„ë””ì˜¤
â”œâ”€â”€ ğŸ“ backend/                    # ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ ğŸ“ app/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ db/                 # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ ë° ì„¸ì…˜
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py          # SQLAlchemy ëª¨ë¸ (User, Prediction, Draw, Match)
â”‚   â”‚   â”‚   â””â”€â”€ session.py         # DB ì„¸ì…˜ ê´€ë¦¬ (Supabase ì—°ê²°)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ models/             # Pydantic ëª¨ë¸
â”‚   â”‚   â”‚   â””â”€â”€ lotto_models.py    # API ìš”ì²­/ì‘ë‹µ ëª¨ë¸ (ë‹‰ë„¤ì„ í•„ë“œ í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/             # API ë¼ìš°í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ api.py             # ë©”ì¸ API ì—”ë“œí¬ì¸íŠ¸ (/predict, /health ë“±)
â”‚   â”‚   â”‚   â””â”€â”€ static.py          # ì •ì  íŒŒì¼ ì„œë¹™ (SEO ìµœì í™”)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/           # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis_service.py # í†µê³„ ë¶„ì„
â”‚   â”‚   â”‚   â”œâ”€â”€ data_service.py    # ë¡œë˜ ë°ì´í„° ìˆ˜ì§‘/ì „ì²˜ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ match_service.py   # ë‹¹ì²¨ ë§¤ì¹­ ë¡œì§
â”‚   â”‚   â”‚   â””â”€â”€ prediction_service.py # ML ì˜ˆì¸¡ ì„œë¹„ìŠ¤ (í•µì‹¬ ë¡œì§)
â”‚   â”‚   â””â”€â”€ ğŸ“ utils/
â”‚   â”‚       â””â”€â”€ slack_notifier.py  # ìŠ¬ë™ ì•Œë¦¼ í—¬í¼
â”‚   â”œâ”€â”€ ğŸ“ data/                   # ë¡œì»¬ ë°ì´í„°
â”‚   â”‚   â”œâ”€â”€ app.db                 # SQLite (ë¡œì»¬ ê°œë°œìš©)
â”‚   â”‚   â””â”€â”€ lotto_data.csv         # ë¡œë˜ íšŒì°¨ ë°ì´í„° (1-1190íšŒì°¨)
â”‚   â”œâ”€â”€ ğŸ“ static/                 # ë°°í¬ëœ ì •ì  íŒŒì¼ (frontendì—ì„œ ë³µì‚¬ë¨)
â”‚   â”‚   â”œâ”€â”€ index.html             # ë©”ì¸ í˜ì´ì§€ (ë‹‰ë„¤ì„ ëª¨ë‹¬ í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ script.js              # í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§ (YouTube API, ë‹‰ë„¤ì„ ì²˜ë¦¬)
â”‚   â”‚   â”œâ”€â”€ styles.css             # ìŠ¤íƒ€ì¼ì‹œíŠ¸ (ë°˜ì‘í˜• ë””ìì¸)
â”‚   â”‚   â”œâ”€â”€ robots.txt, sitemap.xml, rss.xml # SEO íŒŒì¼ë“¤
â”‚   â”‚   â””â”€â”€ [ë¯¸ë””ì–´ íŒŒì¼ë“¤]         # ì´ë¯¸ì§€, ë¹„ë””ì˜¤ ë“±
â”‚   â”œâ”€â”€ batch_update.py            # ë¡œë˜ ë°ì´í„° ë°°ì¹˜ ì—…ë°ì´íŠ¸
â”‚   â”œâ”€â”€ health_monitor.py          # í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§
â”‚   â”œâ”€â”€ main.py                    # FastAPI ì•± ì¸ìŠ¤í„´ìŠ¤
â”‚   â”œâ”€â”€ test_api.py, test_prediction.py # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â””â”€â”€ [ê¸°íƒ€ ì„¤ì • íŒŒì¼ë“¤]
â”œâ”€â”€ ğŸ“ frontend/                   # í”„ë¡ íŠ¸ì—”ë“œ ì†ŒìŠ¤ (ê°œë°œìš©)
â”‚   â”œâ”€â”€ index.html                 # ë©”ì¸ HTML (ë‹‰ë„¤ì„ ëª¨ë‹¬ êµ¬ì¡° í¬í•¨)
â”‚   â”œâ”€â”€ script.js                  # JavaScript ë¡œì§ (ì‚¬ìš©ì í”Œë¡œìš°)
â”‚   â”œâ”€â”€ styles.css                 # CSS ìŠ¤íƒ€ì¼ (ë‹‰ë„¤ì„ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ í¬í•¨)
â”‚   â””â”€â”€ [SEO íŒŒì¼ë“¤]               # robots.txt, sitemap.xml, rss.xml ë“±
â”œâ”€â”€ ğŸ“ models/                     # ML ëª¨ë¸ íŒŒì¼
â”‚   â”œâ”€â”€ position_0_clf.pkl         # 1ë²ˆ ìë¦¬ ë¶„ë¥˜ê¸° (ê¸°ë³¸)
â”‚   â”œâ”€â”€ position_0_clf_tuned.pkl   # 1ë²ˆ ìë¦¬ ë¶„ë¥˜ê¸° (íŠœë‹ë¨)
â”‚   â”œâ”€â”€ position_1-5_clf.pkl       # 2-6ë²ˆ ìë¦¬ ë¶„ë¥˜ê¸°ë“¤
â”‚   â”œâ”€â”€ position_1-5_clf_tuned.pkl # 2-6ë²ˆ ìë¦¬ ë¶„ë¥˜ê¸°ë“¤ (íŠœë‹ë¨)
â”‚   â””â”€â”€ seq_position_0-5.pkl       # ì‹œí€€ì…œ ëª¨ë¸ë“¤
â”œâ”€â”€ ğŸ“ scripts/                    # ML í•™ìŠµ/í‰ê°€ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ build_frontend.py          # í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ train_classifiers.py       # ëª¨ë¸ í•™ìŠµ
â”‚   â”œâ”€â”€ tune_classifiers.py        # í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹
â”‚   â”œâ”€â”€ train_sequential_models.py # ì‹œí€€ì…œ ëª¨ë¸ í•™ìŠµ
â”‚   â”œâ”€â”€ evaluate_models.py         # ëª¨ë¸ í‰ê°€
â”‚   â”œâ”€â”€ show_proba_shap.py         # SHAP ë¶„ì„
â”‚   â””â”€â”€ evaluation_results.csv     # í‰ê°€ ê²°ê³¼
â”œâ”€â”€ ğŸ“ tools/                      # ìš´ì˜ ë„êµ¬
â”‚   â”œâ”€â”€ monday_automation.py       # ğŸ†• ì›”ìš”ì¼ 9ì‹œ í†µí•© ìë™í™” (MZ ìŠ¤íƒ€ì¼)
â”‚   â”œâ”€â”€ stretching_reminder.py     # ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ë´‡ (MZ ê°ì„±)
â”‚   â”œâ”€â”€ weekly_summary_cron.py     # ì£¼ê°„ ë‹¹ì²¨ ê²°ê³¼ ìš”ì•½
â”‚   â”œâ”€â”€ accurate_weekly_match.py   # ì •í™•í•œ ë§¤ì¹­ ë¡œì§
â”‚   â”œâ”€â”€ local_weekly_match.py      # ë¡œì»¬ ë§¤ì¹­ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ supabase_predict_summary.py # Supabase ì˜ˆì¸¡ ìš”ì•½
â”‚   â””â”€â”€ [SEO ë””ë²„ê·¸ ë„êµ¬ë“¤]        # seo_monitor.py, robots_debug.py ë“±
â”œâ”€â”€ ğŸ“ docs/                       # ë¬¸ì„œ
â”‚   â”œâ”€â”€ API_SPEC.md                # API ëª…ì„¸
â”‚   â”œâ”€â”€ DATA_SCHEMA.md             # ë°ì´í„° ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ DEPLOY_RUNBOOK.md          # ë°°í¬ ëŸ°ë¶
â”‚   â”œâ”€â”€ ML_MODEL_SPEC.md           # ML ëª¨ë¸ ëª…ì„¸
â”‚   â””â”€â”€ [ê¸°íƒ€ ë¬¸ì„œë“¤]
â”œâ”€â”€ deploy_to_server.ps1/.sh       # ì„œë²„ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ main.py                        # ë£¨íŠ¸ ì§„ì…ì  (Renderìš©)
â”œâ”€â”€ render.yaml                    # Render ë°°í¬ ì„¤ì • (ì›”ìš”ì¼ 9ì‹œ í†µí•© ìë™í™”)
â”œâ”€â”€ requirements.txt               # Python ì˜ì¡´ì„±
â”œâ”€â”€ PROJECT_OVERVIEW.md            # ì´ ë¬¸ì„œ
â””â”€â”€ README.md                      # í”„ë¡œì íŠ¸ ê°œìš”
```

---

## ğŸš€ ë°°í¬ ë° ìš´ì˜

### Render ë°°í¬ ì„¤ì •

**Web Service ì„¤ì •** (`render.yaml`):
```yaml
services:
  - type: web
    name: jinlotto
    env: python
    plan: free
    autoDeploy: true
    region: oregon
    buildCommand: |
      pip install -r requirements.txt
      python -c "
      import shutil
      shutil.copy2('frontend/index.html', 'backend/static/index.html')
      shutil.copy2('frontend/script.js', 'backend/static/script.js')  
      shutil.copy2('frontend/styles.css', 'backend/static/styles.css')
      print('âœ… Frontend files copied to backend/static/')
      "
    startCommand: |
      gunicorn main:app --bind 0.0.0.0:$PORT --workers 2 --worker-class uvicorn.workers.UvicornWorker --timeout 300
    healthCheckPath: /api/health
```

**í•µì‹¬ í™˜ê²½ë³€ìˆ˜**:
- `ENABLE_ML`: ML ëª¨ë¸ ì‚¬ìš© ì—¬ë¶€ (true/false)
- `WARMUP_ON_STARTUP`: ì‹œì‘ ì‹œ ëª¨ë¸ ì›Œë°ì—… (false - ë°°í¬ íƒ€ì„ì•„ì›ƒ ë°©ì§€)
- `SLACK_WEBHOOK_URL`: ë©”ì¸ ìŠ¬ë™ ì›¹í›… (ì‹œí¬ë¦¿)
- `STRETCHING_SLACK_WEBHOOK_URL`: ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ìš© ì›¹í›… (ì‹œí¬ë¦¿)
- `SUPABASE_URL`, `SUPABASE_ANON_KEY`: Supabase ì—°ê²° (ì‹œí¬ë¦¿)

### ë°°í¬ í”„ë¡œì„¸ìŠ¤
1. **GitHub í‘¸ì‹œ** â†’ Render ìë™ ë°°í¬ íŠ¸ë¦¬ê±°
2. **ë¹Œë“œ ë‹¨ê³„**: Python ì˜ì¡´ì„± ì„¤ì¹˜ + í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ ë³µì‚¬ (Python ìŠ¤í¬ë¦½íŠ¸)
3. **ì‹œì‘ ë‹¨ê³„**: Gunicornìœ¼ë¡œ FastAPI ì•± ì‹¤í–‰ (2 workers, 300ì´ˆ íƒ€ì„ì•„ì›ƒ)
4. **í—¬ìŠ¤ì²´í¬**: `/api/health` ì—”ë“œí¬ì¸íŠ¸ í™•ì¸

### ìµœê·¼ ë°°í¬ ìµœì í™” (2025.09.19)
- **ë¬¸ì œ**: `cp` ëª…ë ¹ì–´ í˜¸í™˜ì„± ì´ìŠˆë¡œ í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ ë³µì‚¬ ì‹¤íŒ¨
- **í•´ê²°**: Python `shutil.copy2()` ì‚¬ìš©ìœ¼ë¡œ í¬ë¡œìŠ¤ í”Œë«í¼ í˜¸í™˜ì„± í™•ë³´
- **ê²°ê³¼**: ë‹‰ë„¤ì„ ëª¨ë‹¬ ë° ë©”ì¸ ë¹„ë””ì˜¤ ìˆ˜ì •ì‚¬í•­ ì •ìƒ ë°°í¬

---

## ğŸ’» ë¡œì»¬ ê°œë°œ í™˜ê²½

### ì„¤ì • ë‹¨ê³„
```bash
# 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
.\venv\Scripts\Activate.ps1   # Windows PowerShell
# source venv/bin/activate    # Linux/Mac

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 3. í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ (ì„ íƒì‚¬í•­)
python scripts/build_frontend.py

# 4. ì„œë²„ ì‹¤í–‰
python main.py
# ë˜ëŠ”: uvicorn backend.main:app --reload --port 8000

# 5. ì ‘ì†
# http://localhost:8000
```

### ê°œë°œ ë„êµ¬
- **API í…ŒìŠ¤íŠ¸**: `backend/test_api.py`, `backend/test_prediction.py`
- **ëª¨ë¸ í•™ìŠµ**: `python scripts/train_classifiers.py`
- **ëª¨ë¸ í‰ê°€**: `python scripts/evaluate_models.py`
- **ë°ì´í„° ìˆ˜ì§‘**: `POST /api/data/collect` ë˜ëŠ” `POST /api/data/update`

### ì˜ì¡´ì„± (`requirements.txt`)
```txt
fastapi==0.104.1
uvicorn[standard]==0.24.0
gunicorn==21.2.0
pandas
numpy
scikit-learn
requests==2.31.0
beautifulsoup4==4.12.2
python-multipart==0.0.6
pydantic
SQLAlchemy==2.0.31
psycopg[binary]==3.2.9  # Python 3.13 í˜¸í™˜
```

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

### í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸

#### `POST /api/predict` - ë¡œë˜ ë²ˆí˜¸ ì˜ˆì¸¡
**ëª©ì **: ì‚¬ìš©ìë³„ í•˜ë£¨ ê³ ì • ì¶”ì²œ ë²ˆí˜¸ ë°˜í™˜ (ë‹‰ë„¤ì„ í¬í•¨)

**ìš”ì²­**:
```json
{
  "method": "statistical",  // statistical, ml, hybrid
  "num_sets": 1,
  "include_bonus": false,
  "nickname": "í™ê¸¸ë™"       // ë‹‰ë„¤ì„ (2025.09.19 ì¶”ê°€)
}
```

**ì‘ë‹µ**:
```json
{
  "success": true,
  "message": "ì˜¤ëŠ˜ì˜ ê³ ì • ì¶”ì²œì„ ë°˜í™˜í–ˆìŠµë‹ˆë‹¤.",
  "data": {
    "mode": "daily-fixed",
    "generated_for": "20250919",
    "valid_until": "2025-09-20T00:00:00+09:00",
    "user_key": "uuid-string",
    "sets": [[3,6,14,19,26,31]],
    "confidence_scores": [0.533],
    "reasoning": [],
    "analysis_summary": "ì˜¤ëŠ˜(20250919)ì˜ ê³ ì • ì¶”ì²œ ì„¸íŠ¸"
  }
}
```

**í•µì‹¬ ë¡œì§**:
1. ì¿ í‚¤ `jl_uid`ë¡œ ì‚¬ìš©ì ì‹ë³„ (ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±)
2. ë‚ ì§œë³„ ê³ ì • ì¶”ì²œ íŒŒì¼ í™•ì¸ (`backend/data/daily_recommendations/`)
3. ì—†ìœ¼ë©´ í†µê³„ì  ë¹ ë¥¸ ì‘ë‹µ + ë°±ê·¸ë¼ìš´ë“œ ML ì •ì œ
4. ë‹‰ë„¤ì„ê³¼ í•¨ê»˜ Supabase `predictions` í…Œì´ë¸”ì— ì €ì¥

#### `GET /api/health` - í—¬ìŠ¤ì²´í¬
**ëª©ì **: ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ (ê²½ëŸ‰, ë¹ ë¥¸ ì‘ë‹µ)
```json
{
  "status": "healthy",
  "message": "ë¡œë˜ ë¶„ì„ ì„œë¹„ìŠ¤ê°€ ì •ìƒ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤."
}
```

#### ë°ì´í„° ê´€ë¦¬ API
- `POST /api/data/collect`: ë™í–‰ë³µê¶Œ APIì—ì„œ íšŒì°¨ ë°ì´í„° ìˆ˜ì§‘
- `POST /api/data/update`: ìµœì‹  íšŒì°¨ë§Œ ê°±ì‹ 
- `POST /api/data/sync-db`: CSV â†’ Supabase ë™ê¸°í™”

#### ì •ì  íŒŒì¼ ì„œë¹™ (`backend/app/routes/static.py`)
- `/sitemap.xml`: SEO ì‚¬ì´íŠ¸ë§µ (XML, Cache-Control í—¤ë”)
- `/rss.xml`: RSS í”¼ë“œ (XML, ì¸ì½”ë”© ìµœì í™”)
- `/robots.txt`: í¬ë¡¤ë§ ê·œì¹™ (Allow: /)
- `/static/*`: ì •ì  íŒŒì¼ (ì´ë¯¸ì§€, CSS, JS)

---

## ğŸ¤– ML ì˜ˆì¸¡ íŒŒì´í”„ë¼ì¸

### ëª¨ë¸ êµ¬ì¡°
- **íƒ€ì…**: RandomForestClassifier Ã— 6ê°œ (í¬ì§€ì…˜ë³„)
- **íŒŒì¼**: `models/position_{0-5}_clf.pkl`
- **ì…ë ¥**: í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§ëœ ìˆ˜ì¹˜ ë°ì´í„° (ì´ë™í‰ê· , ë¹ˆë„ìˆ˜, í™€ìˆ˜ ê°œìˆ˜)
- **ì¶œë ¥**: 1-45ë²ˆ ê° ë²ˆí˜¸ì˜ ì„ íƒ í™•ë¥ 

### ì˜ˆì¸¡ í”„ë¡œì„¸ìŠ¤ (`backend/app/services/prediction_service.py`)
```python
class PredictionService:
    def get_daily_fixed_predictions(self, user_key: str, date_str: str, num_sets: int = 1):
        # 1. ìºì‹œëœ ì¶”ì²œ í™•ì¸
        cache_file = f"backend/data/daily_recommendations/{date_str}/{user_key}.json"
        if os.path.exists(cache_file):
            return load_cached_prediction(cache_file)
        
        # 2. ë¹ ë¥¸ í†µê³„ì  ì‘ë‹µ ìƒì„±
        quick_response = generate_statistical_prediction(num_sets)
        
        # 3. ë°±ê·¸ë¼ìš´ë“œ ML ì •ì œ íì‰
        if ENABLE_ML:
            queue_ml_refinement(user_key, date_str, num_sets)
        
        return quick_response

    def _create_features(self, df):
        # ì´ë™í‰ê·  (5íšŒì°¨, 10íšŒì°¨)
        for pos in range(6):
            df[f'number_{pos+1}_ma5'] = df[f'number_{pos+1}'].rolling(5).mean()
            df[f'number_{pos+1}_ma10'] = df[f'number_{pos+1}'].rolling(10).mean()
        
        # ë²ˆí˜¸ë³„ ë¹ˆë„ìˆ˜ (1-45)
        for num in range(1, 46):
            df[f'freq_{num}'] = calculate_frequency(df, num)
        
        # í™€ìˆ˜ ê°œìˆ˜
        df['odd_count'] = count_odd_numbers(df)
        
        return df
```

### ì‹ ë¢°ë„ ê³„ì‚°
```python
def calculate_confidence(prediction_data):
    confidence = (
        CONF_BASE +  # ê¸°ë³¸ ì‹ ë¢°ë„ (0.40)
        CONF_W_CONSENSUS * consensus_ratio +  # ëª¨ë¸ ê°„ í•©ì˜ë„ (0.30)
        CONF_W_HOT * hot_number_ratio +       # í•«ë„˜ë²„ í¬í•¨ ë¹„ìœ¨ (0.10)
        entropy_bonus                         # ì—”íŠ¸ë¡œí”¼ ê¸°ë°˜ ë³´ë„ˆìŠ¤
    )
    return min(max(confidence, CONF_MIN), CONF_MAX)  # 0.40 ~ 0.80 ë²”ìœ„
```

### ì œì•½ ì¡°ê±´
- **í™€ì§ ê· í˜•**: `ENFORCE_ODD_EVEN_BALANCE=true`
- **êµ¬ê°„ ë¶„í¬**: `ENFORCE_RANGE_COVERAGE=true` (1-15, 16-30, 31-45)
- **ì—°ì† ì œí•œ**: `MAX_CONSECUTIVE=2` (ìµœëŒ€ 2ê°œ ì—°ì† ë²ˆí˜¸)

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

### í•µì‹¬ íŒŒì¼
- **`frontend/index.html`**: ë©”ì¸ í˜ì´ì§€ êµ¬ì¡° (ë‹‰ë„¤ì„ ëª¨ë‹¬ í¬í•¨)
- **`frontend/script.js`**: ì‚¬ìš©ì ì¸í„°ë™ì…˜ ë¡œì§ (YouTube API, ë‹‰ë„¤ì„ ì²˜ë¦¬)
- **`frontend/styles.css`**: ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ì‹œíŠ¸ (ë‹‰ë„¤ì„ ëª¨ë‹¬ ìŠ¤íƒ€ì¼)

### ì‚¬ìš©ì í”Œë¡œìš° êµ¬í˜„

#### 1. ë©”ì¸ ë¹„ë””ì˜¤ ìë™ì¬ìƒ (`script.js`)
```javascript
function initMainVideo() {
    const mainVideo = document.querySelector('.ad-video');
    if (mainVideo) {
        const tryAutoplay = () => {
            mainVideo.play().catch(error => {
                console.log('ìë™ì¬ìƒ ì‹¤íŒ¨:', error);
                // ì‚¬ìš©ì í´ë¦­ ì‹œ ì¬ìƒ í´ë°±
                mainVideo.addEventListener('click', () => {
                    mainVideo.play();
                }, { once: true });
            });
        };
        tryAutoplay();
        // ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì‹œ ì¬ì‹œë„
        document.addEventListener('click', tryAutoplay, { once: true });
        document.addEventListener('touchstart', tryAutoplay, { once: true });
    }
}
```

#### 2. ìŠ¤íŠ¸ë ˆì¹­ ëª¨ë‹¬ (YouTube API)
```javascript
// YouTube API í†µí•©
function loadYouTubeAPI() {
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.head.appendChild(tag);
}

// 1ë¶„ ì‹œì²­ íƒ€ì´ë¨¸
function startWatchTimer() {
    watchTimer = setInterval(() => {
        secondsWatched++;
        updateWatchProgress();
        if (secondsWatched >= 60) {
            enableStretchDoneButton();
        }
    }, 1000);
}

// ëœë¤ ì˜ìƒ ì„ íƒ
const YT_VIDEO_IDS = [
    'RUGuHL0-Yug', 'TK-svYT9Qqg', 'WXtLkFVS2QY', 
    'XvG6EZTGYjs', 'Qm1Q8YYop18'
];
```

#### 3. ë‹‰ë„¤ì„ ì…ë ¥ ëª¨ë‹¬ (2025.09.19 ì¶”ê°€)
```javascript
function handleStretchDone() {
    handleStretchClose();
    openNicknameModal();  // ìŠ¤íŠ¸ë ˆì¹­ ì™„ë£Œ â†’ ë‹‰ë„¤ì„ ì…ë ¥
}

function handleNicknameConfirm() {
    const nickname = nicknameInput.value.trim();
    if (!nickname) {
        alert('ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
        return;
    }
    closeNicknameModal();
    handlePrediction(nickname);  // ë‹‰ë„¤ì„ê³¼ í•¨ê»˜ ì˜ˆì¸¡ ìš”ì²­
}

async function handlePrediction(nickname = null) {
    const response = await fetch(`${API_BASE_URL}/predict`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            method: 'statistical',
            num_sets: 1,
            include_bonus: false,
            nickname: nickname  // ë‹‰ë„¤ì„ í¬í•¨
        }),
    });
    // ... ì‘ë‹µ ì²˜ë¦¬
}
```

### ë°˜ì‘í˜• ë””ìì¸ (`styles.css`)
```css
/* ë‹‰ë„¤ì„ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
.nickname-input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s ease;
}

.nickname-input:focus {
    outline: none;
    border-color: #4285f4;
    box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
}

/* ëª¨ë°”ì¼ ìš°ì„  ë°˜ì‘í˜• */
@media (max-width: 768px) {
    .modal-content {
        width: 95vw;
        margin: 20px auto;
    }
}
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### Supabase PostgreSQL í…Œì´ë¸”

#### `users` í…Œì´ë¸”
```sql
CREATE TABLE users (
    user_key VARCHAR(64) PRIMARY KEY,
    created_at TIMESTAMP DEFAULT (NOW() AT TIME ZONE 'Asia/Seoul')
);
```

#### `predictions` í…Œì´ë¸” (2025.09.19 ë‹‰ë„¤ì„ ì¶”ê°€)
```sql
CREATE TABLE predictions (
    id SERIAL PRIMARY KEY,
    user_key VARCHAR(64) REFERENCES users(user_key),
    generated_for DATE NOT NULL,
    created_at TIMESTAMP DEFAULT (NOW() AT TIME ZONE 'Asia/Seoul'),
    set_index INTEGER NOT NULL,
    numbers JSON NOT NULL,  -- [n1, n2, n3, n4, n5, n6]
    source VARCHAR(32) DEFAULT 'daily-fixed',
    nickname VARCHAR(50)    -- 2025.09.19 ì¶”ê°€
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_predictions_user_key ON predictions(user_key);
CREATE INDEX idx_predictions_generated_for ON predictions(generated_for);
CREATE INDEX idx_predictions_created_at ON predictions(created_at);
```

#### `draws` í…Œì´ë¸”
```sql
CREATE TABLE draws (
    draw_number INTEGER PRIMARY KEY,
    draw_date DATE NOT NULL,
    numbers JSON NOT NULL,  -- [n1, n2, n3, n4, n5, n6]
    bonus_number INTEGER NOT NULL
);
```

#### `matches` í…Œì´ë¸”
```sql
CREATE TABLE matches (
    id SERIAL PRIMARY KEY,
    prediction_id INTEGER REFERENCES predictions(id),
    draw_number INTEGER REFERENCES draws(draw_number),
    rank INTEGER NOT NULL,  -- 1-5ë“± (0=ê½)
    match_count INTEGER NOT NULL,
    bonus_match BOOLEAN NOT NULL,
    matched_numbers JSON NOT NULL,
    created_at TIMESTAMP DEFAULT (NOW() AT TIME ZONE 'Asia/Seoul')
);
```

### RLS (Row Level Security) ì •ì±…
```sql
-- ëª¨ë“  í…Œì´ë¸”ì— RLS í™œì„±í™”
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE predictions ENABLE ROW LEVEL SECURITY;
ALTER TABLE draws ENABLE ROW LEVEL SECURITY;
ALTER TABLE matches ENABLE ROW LEVEL SECURITY;

-- ì„ì‹œ ì „ì²´ í—ˆìš© ì •ì±… (ìš´ì˜ ì‹œ ì„¸ë¶„í™” í•„ìš”)
CREATE POLICY "Temporary allow all" ON users FOR ALL TO public USING (true);
CREATE POLICY "Temporary allow all" ON predictions FOR ALL TO public USING (true);
CREATE POLICY "Temporary allow all" ON draws FOR ALL TO public USING (true);
CREATE POLICY "Temporary allow all" ON matches FOR ALL TO public USING (true);
```

### íƒ€ì„ì¡´ ì²˜ë¦¬ (`backend/app/db/models.py`)
```python
def kst_now():
    """í•œêµ­ ì‹œê°„(KST) ê¸°ì¤€ í˜„ì¬ ì‹œê°„ ë°˜í™˜ (timezone-naiveë¡œ ì €ì¥)"""
    kst_time = datetime.now(timezone(timedelta(hours=9)))
    # Supabaseì—ì„œëŠ” timezone-naive datetimeì„ ì €ì¥í•˜ë¯€ë¡œ timezone ì •ë³´ ì œê±°
    return kst_time.replace(tzinfo=None)
```

---

## â° ìë™í™” ë° í¬ë¡  ì‘ì—…

### Render Cron Jobs (7ê°œ)

#### 1. ì›”ìš”ì¼ 9ì‹œ í†µí•© ìë™í™” ğŸ†•
```yaml
- type: cron
  name: lotto-monday-automation
  # ë§¤ì£¼ ì›”ìš”ì¼ 00:00 UTC = 09:00 KST (í•œêµ­ ì‹œê°„ ì˜¤ì „ 9ì‹œ)
  schedule: "0 0 * * 1"
  env: python
  region: oregon
  command: python tools/monday_automation.py
  envVars:
    - key: SLACK_WEBHOOK_URL
      sync: false
    - key: MONITOR_BASE_URL
      sync: false
    - key: SUPABASE_URL
      sync: false
    - key: SUPABASE_ANON_KEY
      sync: false
    - key: SCHEDULER_TOKEN
      sync: false
```

**í†µí•© ì‘ì—… ë‚´ìš©**:
1. ìµœì‹  ë¡œë˜ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
2. ë‹¹ì²¨ì ì§‘ê³„ ì‹¤í–‰
3. MZ ìŠ¤íƒ€ì¼ ìŠ¬ë™ ì•Œë¦¼ ì „ì†¡
4. ì˜¤ë¥˜ ì²˜ë¦¬ ë° ìƒì„¸ ë¡œê¹…

#### 2. í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§
```yaml
- type: cron
  name: lotto-health-monitor
  schedule: "*/5 * * * *"  # 5ë¶„ë§ˆë‹¤
  command: python backend/health_monitor.py
```

#### 3. ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ (6ê°œ ì‘ì—…)
```yaml
# 10:50, 11:50, 12:50, 14:50, 15:50, 16:50 KST
- type: cron
  name: stretching-reminder-10-50
  schedule: "50 1 * * *"  # 10:50 KST = 01:50 UTC
  command: python tools/stretching_reminder.py
  envVars:
    - key: STRETCHING_SLACK_WEBHOOK_URL
      sync: false  # í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬
```

### ë§¤ì¹­ ë¡œì§ ìƒì„¸ (`tools/accurate_weekly_match.py`)

#### ì •í™•í•œ ê¸°ê°„ í•„í„°ë§
```python
def get_predictions_for_matching(supabase, draw_number: int, draw_date: date):
    """
    íŠ¹ì • íšŒì°¨ì— ëŒ€í•´ ë§¤ì¹­í•  ì˜ˆì¸¡ë“¤ì„ ê°€ì ¸ì˜´
    - ì´ì „ íšŒì°¨ ì¶”ì²¨ ì´í›„ ~ í˜„ì¬ íšŒì°¨ ì¶”ì²¨ ì „ê¹Œì§€ì˜ ì˜ˆì¸¡ë§Œ í¬í•¨
    """
    # ì´ì „ íšŒì°¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    prev_draw = supabase.table("draws").select("*").eq("draw_number", draw_number - 1).execute()
    
    if prev_draw.data:
        # ì´ì „ íšŒì°¨ ì¶”ì²¨ì¼ ë‹¤ìŒë‚  00:00 KST
        prev_date = datetime.fromisoformat(prev_draw.data[0]["draw_date"])
        start_time = datetime.combine(prev_date.date() + timedelta(days=1), time.min)
    else:
        # ì²« íšŒì°¨ì¸ ê²½ìš° 1ì£¼ì¼ ì „ë¶€í„°
        start_time = datetime.combine(draw_date - timedelta(days=7), time.min)
    
    # í˜„ì¬ íšŒì°¨ ì¶”ì²¨ì¼ 20:00 KST (ì¶”ì²¨ ì‹œê°„)
    end_time = datetime.combine(draw_date, time(20, 0))
    
    # KST ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§
    start_kst_iso = start_time.isoformat()
    end_kst_iso = end_time.isoformat()
    
    predictions = supabase.table("predictions").select("*").gte(
        "created_at", start_kst_iso
    ).lt("created_at", end_kst_iso).execute()
    
    return predictions.data
```

---

## ğŸ”’ ë³´ì•ˆ ë° í™˜ê²½ë³€ìˆ˜

### í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

#### Render Dashboardì—ì„œ ì„¤ì •í•´ì•¼ í•  ì‹œí¬ë¦¿
```bash
# ë°ì´í„°ë² ì´ìŠ¤
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJ...

# ìŠ¬ë™ ì›¹í›… (2025.09.18 ë³´ì•ˆ ê°•í™”)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T.../B.../...
STRETCHING_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T.../B.../...

# ëª¨ë‹ˆí„°ë§
MONITOR_BASE_URL=https://stretchinglotto.motiphysio.com/

# ML ì„¤ì •
ENABLE_ML=true
WARMUP_ON_STARTUP=false  # ë°°í¬ íƒ€ì„ì•„ì›ƒ ë°©ì§€
```

#### ì½”ë“œì—ì„œ ì•ˆì „í•œ ì‚¬ìš© (`tools/stretching_reminder.py`)
```python
# âŒ ì ˆëŒ€ ê¸ˆì§€ (2025.09.18 ì´ì „)
SLACK_WEBHOOK_URL = "https://hooks.slack.com/services/..."

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²• (2025.09.18 ì´í›„)
SLACK_WEBHOOK_URL = os.getenv("STRETCHING_SLACK_WEBHOOK_URL")
if not SLACK_WEBHOOK_URL:
    print("ERROR: STRETCHING_SLACK_WEBHOOK_URL not set", file=sys.stderr)
    sys.exit(1)
```

### ë³´ì•ˆ ì´ìŠˆ ë° í•´ê²° (2025.09.18)
- **ë¬¸ì œ**: í•˜ë“œì½”ë”©ëœ ì›¹í›… URLì´ GitHubì— ë…¸ì¶œë˜ì–´ Slackì—ì„œ ë¬´íš¨í™”
- **í•´ê²°**: ëª¨ë“  ì›¹í›… URLì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì´ë™
- **ì ìš©**: `render.yaml`ì—ì„œ `sync: false`ë¡œ ì„¤ì •í•˜ì—¬ Render Dashboardì—ì„œ ê´€ë¦¬

### ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] **ì›¹í›… URL ë…¸ì¶œ í™•ì¸**: GitHub íˆìŠ¤í† ë¦¬ì— í•˜ë“œì½”ë”©ëœ ì›¹í›… ì—†ëŠ”ì§€ í™•ì¸
- [ ] **API í‚¤ ë¡œí…Œì´ì…˜**: ë…¸ì¶œëœ í‚¤ëŠ” ì¦‰ì‹œ íê¸°í•˜ê³  ìƒˆ í‚¤ ë°œê¸‰
- [ ] **RLS ì •ì±…**: Supabase í…Œì´ë¸”ë³„ ì ì ˆí•œ ì ‘ê·¼ ì œì–´ ì„¤ì •
- [ ] **CORS ì„¤ì •**: í•„ìš”í•œ ë„ë©”ì¸ë§Œ í—ˆìš©
- [ ] **ì…ë ¥ ê²€ì¦**: ì‚¬ìš©ì ì…ë ¥ (ë‹‰ë„¤ì„ ë“±) ê¸¸ì´ ì œí•œ ë° ê²€ì¦ (ìµœëŒ€ 50ì)

---

## ğŸ“Š SEO ë° ëª¨ë‹ˆí„°ë§

### SEO ìµœì í™” (2025.08.27 ì™„ë£Œ)

#### ë©”íƒ€ íƒœê·¸ ë° êµ¬ì¡°í™” ë°ì´í„° (`frontend/index.html`)
```html
<title>ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜ | ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œ</title>
<meta name="description" content="ìŠ¤íŠ¸ë ˆì¹­ í›„ ë¡œë˜ ë²ˆí˜¸ë¥¼ ë°›ì•„ë³´ì„¸ìš”. ê±´ê°•í•œ ìŠµê´€ê³¼ í•¨ê»˜í•˜ëŠ” ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°">
<meta name="keywords" content="ë¡œë˜, ë¡œë˜ë²ˆí˜¸, ë²ˆí˜¸ì¶”ì²œ, ìŠ¤íŠ¸ë ˆì¹­, ìš´ë™, AIì¶”ì²œ">
<link rel="canonical" href="https://stretchinglotto.motiphysio.com/">

<!-- êµ¬ì¡°í™” ë°ì´í„° -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜",
  "description": "ìŠ¤íŠ¸ë ˆì¹­ í›„ ë¡œë˜ ë²ˆí˜¸ë¥¼ ë°›ì•„ë³´ì„¸ìš”...",
  "url": "https://stretchinglotto.motiphysio.com/"
}
</script>
```

#### robots.txt (í¬ë¡¤ë§ í—ˆìš©)
```txt
User-agent: *
Allow: /

# SEO íŒŒì¼ë“¤ ëª…ì‹œì  í—ˆìš©
Allow: /sitemap.xml
Allow: /rss.xml
Allow: /robots.txt

Sitemap: https://stretchinglotto.motiphysio.com/sitemap.xml
```

#### sitemap.xml
```xml
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://stretchinglotto.motiphysio.com/</loc>
    <lastmod>2025-08-27</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
```

#### RSS í”¼ë“œ (`frontend/rss.xml`)
```xml
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜ - ê±´ê°•í•œ ìŠµê´€ê³¼ í•¨ê»˜í•˜ëŠ” ë¡œë˜</title>
    <link>https://stretchinglotto.motiphysio.com/</link>
    <description>ìŠ¤íŠ¸ë ˆì¹­ í›„ AIê°€ ì¶”ì²œí•˜ëŠ” ë¡œë˜ ë²ˆí˜¸ë¥¼ ë°›ì•„ë³´ì„¸ìš”.</description>
    <lastBuildDate>Wed, 27 Aug 2025 11:15:51 +0900</lastBuildDate>
  </channel>
</rss>
```

### Google Search Console ì„¤ì •
- **ì‚¬ì´íŠ¸ë§µ ì œì¶œ**: `https://stretchinglotto.motiphysio.com/sitemap.xml`
- **RSS í”¼ë“œ**: `https://stretchinglotto.motiphysio.com/rss.xml`
- **ì†Œìœ ê¶Œ í™•ì¸**: `<meta name="google-site-verification" content="..."/>`

### SEO ë””ë²„ê·¸ ë„êµ¬
```python
# tools/seo_monitor.py - SEO ìƒíƒœ ëª¨ë‹ˆí„°ë§
def check_seo_health():
    checks = [
        check_sitemap_accessibility(),
        check_rss_feed_validity(),
        check_robots_txt(),
        check_page_load_speed()
    ]
    return generate_seo_report(checks)
```

---

## ğŸ› ï¸ ë„êµ¬ ë° ìŠ¤í¬ë¦½íŠ¸

### ML ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸

#### `scripts/train_classifiers.py` - ëª¨ë¸ í•™ìŠµ
```python
def train():
    ds = DataService()
    df = ds.load_data()
    features_df = prediction_service._create_features(df)
    
    for position in range(6):
        X = features_df.drop(columns=number_columns).fillna(0)
        y = features_df[f'number_{position+1}']
        
        model = RandomForestClassifier(
            n_estimators=100,
            max_depth=10,
            random_state=42
        )
        model.fit(X, y)
        
        joblib.dump(model, f'models/position_{position}_clf.pkl')
        print(f"âœ… Position {position} model saved")
```

#### `scripts/evaluate_models.py` - ëª¨ë¸ í‰ê°€
```python
def evaluate_with_time_series_split():
    tscv = TimeSeriesSplit(n_splits=5)
    scores = []
    
    for train_idx, test_idx in tscv.split(X):
        X_train, X_test = X.iloc[train_idx], X.iloc[test_idx]
        y_train, y_test = y.iloc[train_idx], y.iloc[test_idx]
        
        model.fit(X_train, y_train)
        score = model.score(X_test, y_test)
        scores.append(score)
    
    return np.mean(scores), np.std(scores)
```

### ìš´ì˜ ë„êµ¬

#### `tools/stretching_reminder.py` - MZ ê°ì„± ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ë´‡
```python
MZ_MESSAGES = [
    {
        "text": "ğŸƒâ€â™€ï¸ ìŠ¤íŠ¸ë ˆì¹­ íƒ€ì„ì´ì—ìš”! ëª¸ì´ êµ³ì–´ê°€ê³  ìˆì–´ìš” ã… ã… ",
        "emoji": "ğŸ¤¸â€â™€ï¸"
    },
    {
        "text": "ğŸ’ª ì ê¹! ìŠ¤íŠ¸ë ˆì¹­í•˜ê³  ë¡œë˜ ë²ˆí˜¸ ë°›ì•„ê°€ì„¸ìš”~ ì¼ì„ì´ì¡° ì•„ë‹ˆê² ì–´ìš”?",
        "emoji": "ğŸ¯"
    },
    {
        "text": "ğŸ§˜â€â™€ï¸ ëª©ê³¼ ì–´ê¹¨ê°€ ë»ê·¼í•˜ì§€ ì•Šë‚˜ìš”? ìŠ¤íŠ¸ë ˆì¹­ í•œë²ˆ í•˜ê³  í–‰ìš´ì˜ ë²ˆí˜¸ë„ ë°›ì•„ë³´ì„¸ìš”!",
        "emoji": "âœ¨"
    }
]

def send_mz_stretching_reminder():
    message = random.choice(MZ_MESSAGES)
    payload = {
        "text": f"{message['emoji']} {message['text']}\n\nğŸ² <{JINLOTTO_URL}|ì§€ê¸ˆ ë°”ë¡œ ìŠ¤íŠ¸ë ˆì¹­í•˜ê³  ë²ˆí˜¸ë°›ê¸°>"
    }
    
    response = requests.post(SLACK_WEBHOOK_URL, json=payload, timeout=10)
    if response.status_code == 200:
        print("âœ… ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ ì „ì†¡ ì„±ê³µ")
    else:
        print(f"âŒ ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ ì „ì†¡ ì‹¤íŒ¨: {response.status_code}")
```

#### `tools/weekly_summary_cron.py` - ì£¼ê°„ ë‹¹ì²¨ ê²°ê³¼ ìš”ì•½
```python
def generate_weekly_summary():
    # 1. ìµœì‹  íšŒì°¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    latest_draw = get_latest_draw_from_supabase()
    
    # 2. í•´ë‹¹ íšŒì°¨ì— ëŒ€í•œ ì˜ˆì¸¡ë“¤ ë§¤ì¹­
    predictions = get_predictions_for_matching(latest_draw)
    matches = evaluate_matches_for_draw(predictions, latest_draw)
    
    # 3. í†µê³„ ìƒì„±
    stats = {
        "total_predictions": len(predictions),
        "total_matches": len([m for m in matches if m["rank"] > 0]),
        "rank_distribution": calculate_rank_distribution(matches)
    }
    
    # 4. ìŠ¬ë™ ë©”ì‹œì§€ ìƒì„± ë° ì „ì†¡
    message = f"""
ğŸ¯ **{latest_draw['draw_number']}íšŒì°¨ ë‹¹ì²¨ ê²°ê³¼ ìš”ì•½**

ğŸ“Š **ì „ì²´ í†µê³„**
â€¢ ì´ ì˜ˆì¸¡ ìˆ˜: {stats['total_predictions']}ê°œ
â€¢ ë‹¹ì²¨ ì˜ˆì¸¡ ìˆ˜: {stats['total_matches']}ê°œ
â€¢ ë‹¹ì²¨ë¥ : {stats['total_matches']/stats['total_predictions']*100:.1f}%

ğŸ† **ë“±ìˆ˜ë³„ ë¶„í¬**
{format_rank_distribution(stats['rank_distribution'])}

ğŸ² <{JINLOTTO_URL}|ë‹¤ìŒ íšŒì°¨ ë²ˆí˜¸ ë°›ìœ¼ëŸ¬ ê°€ê¸°>
    """
    
    send_to_slack(message)
```

### ë””ë²„ê·¸ ë„êµ¬

#### SEO ë””ë²„ê·¸ ë„êµ¬ë“¤
- `tools/sitemap_debug.py`: ì‚¬ì´íŠ¸ë§µ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸
- `tools/rss_debug.py`: RSS í”¼ë“œ ìœ íš¨ì„± ê²€ì‚¬
- `tools/robots_debug.py`: robots.txt í¬ë¡¤ë§ ê·œì¹™ í™•ì¸
- `tools/gsc_test.py`: Google Search Console ì—°ë™ í…ŒìŠ¤íŠ¸

---

## ğŸ“ˆ ìµœê·¼ ì£¼ìš” ë³€ê²½ì‚¬í•­ (2025.09.22 ê¸°ì¤€)

### 1. ì›”ìš”ì¼ 9ì‹œ í†µí•© ìë™í™” êµ¬í˜„ (2025.09.22) ğŸ”¥
**ë³€ê²½ì‚¬í•­**:
- **í†µí•© ìŠ¤í¬ë¦½íŠ¸**: `tools/monday_automation.py` ìƒˆë¡œ ìƒì„±
- **ìŠ¤ì¼€ì¤„ í†µí•©**: ê¸°ì¡´ 08:00 + 10:00 â†’ 09:00 KST ë‹¨ì¼ ì‹¤í–‰
- **MZ ìŠ¤íƒ€ì¼ ì•Œë¦¼**: "ğŸ”¥ ë¡œë˜ ì—…ëƒ ë–´ë‹¤!!" ë©”ì‹œì§€ë¡œ ë³€ê²½
- **render.yaml**: `lotto-monday-automation` í¬ë¡  ì‘ì—…ìœ¼ë¡œ í†µí•©

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:
```python
# tools/monday_automation.py - MZ ìŠ¤íƒ€ì¼ ë©”ì‹œì§€
message = f"""ğŸ”¥ ë¡œë˜ ì—…ëƒ ë–´ë‹¤!! ({kst_time})

âœ¨ {draw_number}íšŒì°¨ ({draw_date}) ê²°ê³¼ ê³µê°œ~
ğŸ¯ ì´ë²ˆì£¼ ë‹¹ì²¨ë²ˆí˜¸: [{numbers_str}] + ë³´ë„ˆìŠ¤ {bonus}

ğŸŠ ë‹¹ì²¨ì í˜„í™©:
   ğŸ¥‡ 1ë“±: ?ëª… | ğŸ¥ˆ 2ë“±: ?ëª… | ğŸ¥‰ 3ë“±: ?ëª… | 4ë“±: ?ëª… | 5ë“±: ?ëª…"""
```

### 2. í”„ë¡œì íŠ¸ ì •ë¦¬ ë° ìµœì í™” (2025.09.22) ğŸ§¹
**ì •ë¦¬ëœ í•­ëª©**:
- **ë¶ˆí•„ìš”í•œ íŒŒì¼ ì‚­ì œ**: ì„ì‹œ íŒŒì¼, ìºì‹œ í´ë”, ê°€ìƒí™˜ê²½ ì œê±°
- **íŒŒì¼ êµ¬ì¡° ì •ë¦¬**: í˜„ì¬ êµ¬ì¡°ì— ë§ê²Œ ë¬¸ì„œ ì—…ë°ì´íŠ¸
- **ë°°í¬ ìµœì í™”**: ì •ë¦¬ëœ êµ¬ì¡°ë¡œ ë°°í¬ ì†ë„ í–¥ìƒ

### 3. ë‹‰ë„¤ì„ ê¸°ëŠ¥ ì¶”ê°€ (2025.09.18-19) ğŸ†•
**ë³€ê²½ì‚¬í•­**:
- **DB ìŠ¤í‚¤ë§ˆ**: `predictions` í…Œì´ë¸”ì— `nickname VARCHAR(50)` ì»¬ëŸ¼ ì¶”ê°€
- **API**: `PredictionRequest`ì— `nickname` í•„ë“œ ì¶”ê°€
- **í”„ë¡ íŠ¸ì—”ë“œ**: ìŠ¤íŠ¸ë ˆì¹­ ì™„ë£Œ í›„ ë‹‰ë„¤ì„ ì…ë ¥ ëª¨ë‹¬ ì¶”ê°€
- **ì‚¬ìš©ì í”Œë¡œìš°**: ìŠ¤íŠ¸ë ˆì¹­ â†’ ë‹‰ë„¤ì„ ì…ë ¥ â†’ ë²ˆí˜¸ í™•ì¸

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:
```python
# backend/app/models/lotto_models.py
class PredictionRequest(BaseModel):
    method: str = "statistical"
    num_sets: int = 5
    include_bonus: bool = False
    nickname: Optional[str] = None  # ë‹‰ë„¤ì„ ì¶”ê°€

# backend/app/routes/api.py
nickname = getattr(request, 'nickname', None)
if nickname and len(nickname.strip()) > 50:
    nickname = nickname.strip()[:50]  # ìµœëŒ€ 50ì ì œí•œ

pred = dbm.Prediction(
    user_key=user_key,
    generated_for=gen_for,
    set_index=idx + 1,
    numbers=[int(x) for x in nums],
    source=fixed.get('mode', 'daily-fixed'),
    nickname=nickname,  # ë‹‰ë„¤ì„ ì €ì¥
)
```

### 4. ë©”ì¸ ë¹„ë””ì˜¤ ìë™ì¬ìƒ ê°œì„  (2025.09.19) ğŸ¥
**ë¬¸ì œ**: ë¸Œë¼ìš°ì € ìë™ì¬ìƒ ì •ì±…ìœ¼ë¡œ ë©”ì¸ ë¹„ë””ì˜¤ ì¬ìƒ ì•ˆë¨
**í•´ê²°**:
- `controls` ì†ì„± ì¶”ê°€ë¡œ ì‚¬ìš©ì ìˆ˜ë™ ì¬ìƒ ê°€ëŠ¥
- JavaScript ìë™ì¬ìƒ ì‹œë„ + ì‚¬ìš©ì í´ë¦­ í´ë°±
- ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ì„ ìœ„í•œ `<p>` íƒœê·¸ í´ë°± ì¶”ê°€

```html
<!-- frontend/index.html -->
<video class="ad-video" autoplay muted loop playsinline preload="auto" controls>
    <source src="/static/Main_KR_Home.mp4" type="video/mp4" />
    <p>ë¸Œë¼ìš°ì €ê°€ ë¹„ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. <a href="/static/Main_KR_Home.mp4">ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ</a></p>
</video>
```

### 5. ë°°í¬ íŒŒì´í”„ë¼ì¸ ìµœì í™” (2025.09.19) ğŸš€
**ë¬¸ì œ**: `render.yaml`ì˜ `buildCommand`ê°€ êµ¬ë²„ì „ íŒŒì¼ë¡œ ë®ì–´ì”€
**í•´ê²°**: Python `shutil.copy2()` ì‚¬ìš©ìœ¼ë¡œ í¬ë¡œìŠ¤ í”Œë«í¼ í˜¸í™˜ì„± í™•ë³´

```yaml
# render.yaml (ì´ì „)
buildCommand: |
  pip install -r requirements.txt
  cp frontend/index.html backend/static/index.html  # âŒ í˜¸í™˜ì„± ì´ìŠˆ

# render.yaml (í˜„ì¬)
buildCommand: |
pip install -r requirements.txt
  python -c "
  import shutil
  shutil.copy2('frontend/index.html', 'backend/static/index.html')
  shutil.copy2('frontend/script.js', 'backend/static/script.js')  
  shutil.copy2('frontend/styles.css', 'backend/static/styles.css')
  print('âœ… Frontend files copied to backend/static/')
  "
```

### 6. ìŠ¬ë™ ì›¹í›… ë³´ì•ˆ ê°•í™” (2025.09.18) ğŸ”’
**ë¬¸ì œ**: í•˜ë“œì½”ë”©ëœ ì›¹í›… URLì´ GitHubì— ë…¸ì¶œë˜ì–´ Slackì—ì„œ ë¬´íš¨í™”
**í•´ê²°**: ëª¨ë“  ì›¹í›… URLì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì´ë™

```python
# tools/stretching_reminder.py (ì´ì „)
SLACK_WEBHOOK_URL = "https://hooks.slack.com/services/..."  # âŒ í•˜ë“œì½”ë”©

# tools/stretching_reminder.py (í˜„ì¬)
SLACK_WEBHOOK_URL = os.getenv("STRETCHING_SLACK_WEBHOOK_URL")  # âœ… í™˜ê²½ë³€ìˆ˜
```

```yaml
# render.yaml
envVars:
  - key: STRETCHING_SLACK_WEBHOOK_URL
    sync: false  # Render Dashboardì—ì„œ ê´€ë¦¬
```

### 7. ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ë´‡ êµ¬í˜„ (2025.09.18) ğŸ’ª
**ê¸°ëŠ¥**: ë§¤ì‹œê°„ 50ë¶„ MZ ê°ì„± ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼
**ì‹œê°„**: 10:50, 11:50, 12:50, 14:50, 15:50, 16:50 KST
**ë©”ì‹œì§€**: ëœë¤ MZ ìŠ¤íƒ€ì¼ ë©”ì‹œì§€ + ì„œë¹„ìŠ¤ ë§í¬

### 8. SEO ìµœì í™” ì™„ë£Œ (2025.08.27) ğŸ“Š
**í•´ê²°ëœ ë¬¸ì œ**:
- Google Search Console ì‚¬ì´íŠ¸ë§µ/RSS í¬ë¡¤ë§ ì˜¤ë¥˜
- `robots.txt`: `Disallow: /` â†’ `Allow: /`ë¡œ ë³€ê²½
- RSS í”¼ë“œ: `pubDate` 1970ë…„ ì˜¤ë¥˜ â†’ í˜„ì¬ ë‚ ì§œë¡œ ìˆ˜ì •
- ë©”íƒ€ íƒœê·¸: êµ¬ì¡°í™” ë°ì´í„° ë° ì†Œì…œ ë¯¸ë””ì–´ íƒœê·¸ ì¶”ê°€

**ë¬¸ì œ**: UTC/KST í˜¼ì¬ë¡œ ì¸í•œ ë°ì´í„° ë¶ˆì¼ì¹˜
**í•´ê²°**: ëª¨ë“  ì‹œê°„ì„ KST ê¸°ì¤€ìœ¼ë¡œ í†µì¼
**ì ìš©**: `kst_now()` í•¨ìˆ˜ë¡œ timezone-naive datetime ì €ì¥

---

## ğŸš¨ ìš´ì˜ ëŸ°ë¶

### ë©”ëª¨ë¦¬ ì´ˆê³¼/OOM ëŒ€ì‘ ğŸ”¥
**ì¦ìƒ**: Render ë¡œê·¸ì—ì„œ ì›Œì»¤ ì¬ì‹œì‘, "Memory limit exceeded"
**ì¦‰ì‹œ ì¡°ì¹˜**:
1. **ML ë¹„í™œì„±í™”**: `ENABLE_ML=false` ì„¤ì • â†’ ì¬ë°°í¬
2. **ì›Œì»¤ ìˆ˜ ê°ì†Œ**: `workers=1`ë¡œ ì¤„ì—¬ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ
3. **ëª¨ë¸ ì›Œë°ì—… ë¹„í™œì„±í™”**: `WARMUP_ON_STARTUP=false` ìœ ì§€

**ì¥ê¸° í•´ê²°**:
- Render í”Œëœ ì—…ê·¸ë ˆì´ë“œ (Free â†’ Starter $7/ì›”)
- ëª¨ë¸ ê²½ëŸ‰í™” (`models/*_tuned.pkl` ì œê±°)
- ëª¨ë¸ ë¡œë”© ìµœì í™” (mmap_mode í™œìš©)

### 502/íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜ ëŒ€ì‘ â±ï¸
**ì¦ìƒ**: "502 Bad Gateway", "Worker timed out"
**ì§„ë‹¨ ë‹¨ê³„**:
1. **ë¡œê·¸ í™•ì¸**: Render Dashboard â†’ Logsì—ì„œ Gunicorn ë¡œê·¸ í™•ì¸
2. **ML ë¶„ë¦¬ í…ŒìŠ¤íŠ¸**: `ENABLE_ML=false`ë¡œ ì„¤ì •í•˜ì—¬ ML ì—°ì‚° ì˜í–¥ í™•ì¸
3. **íƒ€ì„ì•„ì›ƒ ì¡°ì •**: `render.yaml`ì—ì„œ `timeout` ê°’ ì¦ê°€ (í˜„ì¬ 300ì´ˆ)

**ê·¼ë³¸ í•´ê²°**:
- ë°±ê·¸ë¼ìš´ë“œ í ìµœì í™”
- ëª¨ë¸ ë¡œë”© ì‹œê°„ ë‹¨ì¶•
- ì‘ë‹µ ì‹œê°„ ëª¨ë‹ˆí„°ë§ ê°•í™”

### ìŠ¬ë™ ì•Œë¦¼ ì‹¤íŒ¨ ëŒ€ì‘ ğŸ“¢
**ì¦ìƒ**: ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ ë˜ëŠ” ì£¼ê°„ ìš”ì•½ ë¯¸ì „ì†¡
**í™•ì¸ ë‹¨ê³„**:
1. **ì›¹í›… URL í™•ì¸**: Render í™˜ê²½ë³€ìˆ˜ì—ì„œ ì˜¬ë°”ë¥¸ URL ì„¤ì • ì—¬ë¶€
2. **ì›¹í›… ìœ íš¨ì„±**: Slack ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì—ì„œ ì›¹í›… ìƒíƒœ í™•ì¸
3. **ë¡œê·¸ í™•ì¸**: í¬ë¡  ì‘ì—… ë¡œê·¸ì—ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸

**í•´ê²° ë°©ë²•**:
```bash
# ìƒˆ ì›¹í›… ìƒì„± í›„ í™˜ê²½ë³€ìˆ˜ ì—…ë°ì´íŠ¸
# Render Dashboard â†’ Environment â†’ Add Environment Variable
STRETCHING_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/NEW_WEBHOOK_URL
```

### ë°°í¬ ì‹¤íŒ¨ ëŒ€ì‘ ğŸš€
**ì¦ìƒ**: "Build failed", "Deploy failed"
**ì§„ë‹¨ ë‹¨ê³„**:
1. **ë¹Œë“œ ë¡œê·¸ í™•ì¸**: Render Dashboardì—ì„œ ë¹Œë“œ ì‹¤íŒ¨ ì›ì¸ íŒŒì•…
2. **ì˜ì¡´ì„± ë¬¸ì œ**: `requirements.txt` ë²„ì „ ì¶©ëŒ í™•ì¸
3. **íŒŒì¼ ë³µì‚¬ ì‹¤íŒ¨**: `buildCommand`ì˜ Python ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ í™•ì¸

**í•´ê²° ë°©ë²•**:
```bash
# ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸
python -c "
import shutil
shutil.copy2('frontend/index.html', 'backend/static/index.html')
print('âœ… Build test successful')
"

# ìˆ˜ë™ ì¬ë°°í¬
# Render Dashboard â†’ Manual Deploy
```

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜ ğŸ—„ï¸
**ì¦ìƒ**: "Connection refused", "Authentication failed"
**í™•ì¸ ë‹¨ê³„**:
1. **Supabase ìƒíƒœ**: Supabase Dashboardì—ì„œ í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸
2. **ì—°ê²° ë¬¸ìì—´**: `SUPABASE_URL`, `SUPABASE_ANON_KEY` í™˜ê²½ë³€ìˆ˜ í™•ì¸
3. **RLS ì •ì±…**: í…Œì´ë¸” ì ‘ê·¼ ê¶Œí•œ í™•ì¸

**í•´ê²° ë°©ë²•**:
```sql
-- RLS ì •ì±… í™•ì¸
SELECT * FROM pg_policies WHERE tablename IN ('users', 'predictions', 'draws', 'matches');

-- ì„ì‹œ ì ‘ê·¼ í—ˆìš© (ë””ë²„ê¹…ìš©)
DROP POLICY IF EXISTS "Temporary allow all" ON predictions;
CREATE POLICY "Temporary allow all" ON predictions FOR ALL TO public USING (true);
```

---

## âœ… ì¸ìˆ˜ì¸ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ”¥ ì¦‰ì‹œ ìˆ˜í–‰ (ìš°ì„ ìˆœìœ„ 1)
- [ ] **Slack ì›¹í›… ë³´ì•ˆ í™•ì¸**: GitHub íˆìŠ¤í† ë¦¬ì— ë…¸ì¶œëœ ì›¹í›… URL ì—†ëŠ”ì§€ í™•ì¸
- [ ] **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**: Render Dashboardì—ì„œ ëª¨ë“  ì‹œí¬ë¦¿ í™˜ê²½ë³€ìˆ˜ ì„¤ì • í™•ì¸
  - [ ] `SUPABASE_URL`, `SUPABASE_ANON_KEY`
  - [ ] `SLACK_WEBHOOK_URL`, `STRETCHING_SLACK_WEBHOOK_URL`
  - [ ] `MONITOR_BASE_URL`
- [ ] **Supabase RLS**: ëª¨ë“  í…Œì´ë¸”ì— ì ì ˆí•œ RLS ì •ì±… ì ìš©
- [ ] **ë°°í¬ ìƒíƒœ í™•ì¸**: https://stretchinglotto.motiphysio.com/ ì •ìƒ ì‘ë™ í™•ì¸
- [ ] **ë‹‰ë„¤ì„ ê¸°ëŠ¥ í™•ì¸**: ìŠ¤íŠ¸ë ˆì¹­ â†’ ë‹‰ë„¤ì„ ì…ë ¥ â†’ ë²ˆí˜¸ í™•ì¸ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

### ğŸ“Š 24ì‹œê°„ ëª¨ë‹ˆí„°ë§ (ìš°ì„ ìˆœìœ„ 2)
- [ ] **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: Render ë¡œê·¸ì—ì„œ OOM ë°œìƒ ë¹ˆë„ í™•ì¸
- [ ] **ì‘ë‹µ ì‹œê°„**: `/api/predict` í‰ê·  ì‘ë‹µ ì‹œê°„ 10ì´ˆ ì´í•˜ ìœ ì§€
- [ ] **í¬ë¡  ì‘ì—…**: ëª¨ë“  ìë™í™” ì‘ì—… ì •ìƒ ì‹¤í–‰ í™•ì¸
  - [ ] ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ (ë§¤ì‹œê°„ 50ë¶„)
  - [ ] ì£¼ê°„ ìš”ì•½ (ì›”ìš”ì¼ 10ì‹œ)
  - [ ] í—¬ìŠ¤ ëª¨ë‹ˆí„°ë§ (5ë¶„ë§ˆë‹¤)
- [ ] **ìŠ¬ë™ ì•Œë¦¼**: ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ ë° ì£¼ê°„ ìš”ì•½ ì •ìƒ ì „ì†¡ í™•ì¸

### ğŸ› ï¸ ê°œë°œ í™˜ê²½ (ìš°ì„ ìˆœìœ„ 3)
- [ ] **ë¡œì»¬ í™˜ê²½**: ê°€ìƒí™˜ê²½ ì„¤ì • ë° ë¡œì»¬ ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- [ ] **API í…ŒìŠ¤íŠ¸**: ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ì‘ë™ í™•ì¸
  - [ ] `POST /api/predict` (ë‹‰ë„¤ì„ í¬í•¨)
  - [ ] `GET /api/health`
  - [ ] `POST /api/data/update`
- [ ] **ëª¨ë¸ í•™ìŠµ**: ML ëª¨ë¸ ì¬í•™ìŠµ í”„ë¡œì„¸ìŠ¤ ìˆ™ì§€
- [ ] **í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ**: í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ì‚¬í•­ ë°°í¬ í”„ë¡œì„¸ìŠ¤ í™•ì¸

### ğŸ“š ë¬¸ì„œí™” (ìš°ì„ ìˆœìœ„ 4)
- [ ] **API ë¬¸ì„œ**: `docs/API_SPEC.md` ìµœì‹  ìƒíƒœ ìœ ì§€
- [ ] **ë°ì´í„° ìŠ¤í‚¤ë§ˆ**: `docs/DATA_SCHEMA.md` ì—…ë°ì´íŠ¸ (ë‹‰ë„¤ì„ í•„ë“œ í¬í•¨)
- [ ] **ë°°í¬ ê°€ì´ë“œ**: `docs/DEPLOY_RUNBOOK.md` ê²€í† 
- [ ] **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: ì£¼ìš” ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±

### ğŸ”® í–¥í›„ ê°œì„  (ìš°ì„ ìˆœìœ„ 5)
- [ ] **ëª¨ë¸ ì„±ëŠ¥**: ML ëª¨ë¸ ì •í™•ë„ ê°œì„  ë°©ì•ˆ ê²€í† 
- [ ] **ì‚¬ìš©ì ê²½í—˜**: í”„ë¡ íŠ¸ì—”ë“œ UX/UI ê°œì„ ì‚¬í•­ ì •ë¦¬
- [ ] **í™•ì¥ì„±**: ì‚¬ìš©ì ì¦ê°€ ëŒ€ë¹„ ì¸í”„ë¼ í™•ì¥ ê³„íš
- [ ] **ë³´ì•ˆ ê°•í™”**: ì¶”ê°€ ë³´ì•ˆ ì¡°ì¹˜ (rate limiting, input validation ë“±)
- [ ] **ë‹‰ë„¤ì„ í™œìš©**: ë‹‰ë„¤ì„ ê¸°ë°˜ ê°œì¸í™” ê¸°ëŠ¥ í™•ì¥

---

## ğŸš€ ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´

### ë¡œì»¬ ê°œë°œ
```bash
# ì„œë²„ ì‹¤í–‰
python main.py

# í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
python scripts/build_frontend.py

# ëª¨ë¸ í•™ìŠµ
python scripts/train_classifiers.py

# API í…ŒìŠ¤íŠ¸
python backend/test_api.py

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### ë°ì´í„° ê´€ë¦¬
```bash
# ìµœì‹  ë¡œë˜ ë°ì´í„° ìˆ˜ì§‘
curl -X POST http://localhost:8000/api/data/update

# DB ë™ê¸°í™”
curl -X POST http://localhost:8000/api/data/sync-db

# ìˆ˜ë™ ë§¤ì¹­ ì‹¤í–‰
python tools/accurate_weekly_match.py

# ì˜ˆì¸¡ í…ŒìŠ¤íŠ¸ (ë‹‰ë„¤ì„ í¬í•¨)
curl -X POST http://localhost:8000/api/predict \
  -H "Content-Type: application/json" \
  -d '{"method":"statistical","num_sets":1,"nickname":"í…ŒìŠ¤íŠ¸"}'
```

### ë°°í¬ ë° ëª¨ë‹ˆí„°ë§
```bash
# Git ë°°í¬
git add .
git commit -m "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"
git push origin main

# SEO ìƒíƒœ í™•ì¸
python tools/seo_monitor.py

# í—¬ìŠ¤ ì²´í¬
curl https://stretchinglotto.motiphysio.com/api/health

# ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
python tools/stretching_reminder.py
```

### ë””ë²„ê¹…
```bash
# í™˜ê²½ë³€ìˆ˜ í™•ì¸
echo $STRETCHING_SLACK_WEBHOOK_URL

# ëª¨ë¸ ì„±ëŠ¥ í‰ê°€
python scripts/evaluate_models.py

# í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ ìˆ˜ë™ ë³µì‚¬
python -c "
import shutil
shutil.copy2('frontend/index.html', 'backend/static/index.html')
shutil.copy2('frontend/script.js', 'backend/static/script.js')
shutil.copy2('frontend/styles.css', 'backend/static/styles.css')
print('âœ… Files copied')
"
```

---

## ğŸ“ ê¸´ê¸‰ ì—°ë½ì²˜ ë° ê¶Œí•œ

### ì‹œìŠ¤í…œ ê¶Œí•œ
- **GitHub**: `main` ë¸Œëœì¹˜ push ê¶Œí•œ í•„ìš”
- **Render**: í”„ë¡œì íŠ¸ ì†Œìœ ì ë˜ëŠ” collaborator ê¶Œí•œ
- **Supabase**: í”„ë¡œì íŠ¸ ê´€ë¦¬ì ê¶Œí•œ
- **Slack**: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ì (ì›¹í›… ê´€ë¦¬ìš©)

### ì™¸ë¶€ ì„œë¹„ìŠ¤
- **ë™í–‰ë³µê¶Œ API**: ê³µê°œ API (ë³„ë„ ì¸ì¦ ë¶ˆí•„ìš”)
- **YouTube API**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì§ì ‘ ì‚¬ìš© (iframe API)
- **Google Search Console**: SEO ëª¨ë‹ˆí„°ë§ìš©

### ì¤‘ìš” URL
- **ë©”ì¸ ì„œë¹„ìŠ¤**: https://stretchinglotto.motiphysio.com/
- **ì„œë¸Œ ì„œë¹„ìŠ¤**: http://43.201.75.105:8000
- **Render Dashboard**: https://dashboard.render.com
- **Supabase Dashboard**: https://supabase.com/dashboard
- **GitHub Repository**: https://github.com/jjin3633/jinlotto

---

## ğŸ”„ ë²„ì „ ê´€ë¦¬

**í˜„ì¬ ë²„ì „**: v2.2.0 (2025.09.22)
- ğŸ”¥ ì›”ìš”ì¼ 9ì‹œ í†µí•© ìë™í™” êµ¬í˜„ (MZ ìŠ¤íƒ€ì¼ ì•Œë¦¼)
- ğŸ§¹ í”„ë¡œì íŠ¸ ì •ë¦¬ ë° ìµœì í™” (ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œê±°)
- âœ¨ ë‹‰ë„¤ì„ ê¸°ëŠ¥ ì¶”ê°€ (ì‚¬ìš©ì í”Œë¡œìš° ê°œì„ )
- ğŸ¥ ë©”ì¸ ë¹„ë””ì˜¤ ìë™ì¬ìƒ ê°œì„  (ë¸Œë¼ìš°ì € í˜¸í™˜ì„±)
- ğŸš€ ë°°í¬ íŒŒì´í”„ë¼ì¸ ìµœì í™” (Python ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸)
- ğŸ”’ ìŠ¬ë™ ì›¹í›… ë³´ì•ˆ ê°•í™” (í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬)

**ì´ì „ ì£¼ìš” ë²„ì „**:
- v2.0.0 (2025.08.27): SEO ìµœì í™” ì™„ë£Œ, Google Search Console ì—°ë™
- v1.5.0 (2025.08.25): íƒ€ì„ì¡´ í†µì¼ ë° ìŠ¤íŠ¸ë ˆì¹­ ì•Œë¦¼ë´‡ êµ¬í˜„
- v1.0.0 (2025.08.01): ì´ˆê¸° ì„œë¹„ìŠ¤ ëŸ°ì¹­

---

## ğŸ¯ ë§ˆë¬´ë¦¬

ì´ ë¬¸ì„œëŠ” **ìŠ¤íŠ¸ë ˆì¹­ ë¡œë˜** í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì¸¡ë©´ì„ í¬ê´„í•˜ëŠ” **ì‚´ì•„ìˆëŠ” ë¬¸ì„œ**ì…ë‹ˆë‹¤. 

### ğŸ“ ë¬¸ì„œ ì—…ë°ì´íŠ¸ ê°€ì´ë“œ
ì‹œìŠ¤í…œ ë³€ê²½ì‚¬í•­ì´ ìˆì„ ë•Œë§ˆë‹¤ ë‹¤ìŒ ì„¹ì…˜ë“¤ì„ ì—…ë°ì´íŠ¸í•´ì£¼ì„¸ìš”:
- **ì„œë¹„ìŠ¤ ê°œìš”**: ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ í”Œë¡œìš° ë³€ê²½ ì‹œ
- **í”„ë¡œì íŠ¸ êµ¬ì¡°**: ìƒˆ íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ ì¶”ê°€ ì‹œ
- **API ì—”ë“œí¬ì¸íŠ¸**: ìƒˆ ì—”ë“œí¬ì¸íŠ¸ë‚˜ ìš”ì²­/ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ
- **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**: í…Œì´ë¸”ì´ë‚˜ ì»¬ëŸ¼ ë³€ê²½ ì‹œ
- **ìµœê·¼ ì£¼ìš” ë³€ê²½ì‚¬í•­**: ëª¨ë“  ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ ê¸°ë¡
- **ìš´ì˜ ëŸ°ë¶**: ìƒˆë¡œìš´ ë¬¸ì œë‚˜ í•´ê²°ì±… ë°œê²¬ ì‹œ

### ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ
ìƒˆë¡œìš´ ê°œë°œìê°€ í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•  ë•Œ:
1. ì´ ë¬¸ì„œë¥¼ ë¨¼ì € ì½ê³  ì „ì²´ êµ¬ì¡° íŒŒì•…
2. ë¡œì»¬ í™˜ê²½ ì„¤ì • í›„ ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
3. ë³€ê²½ì‚¬í•­ êµ¬í˜„ í›„ ê´€ë ¨ ë¬¸ì„œ ì„¹ì…˜ ì—…ë°ì´íŠ¸
4. í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

### ğŸ’¡ ì¶”ê°€ ì§ˆë¬¸ì´ë‚˜ ì§€ì›ì´ í•„ìš”í•œ ê²½ìš°
- **ê¸°ìˆ ì  ë¬¸ì œ**: ì´ ë¬¸ì„œì˜ ìš´ì˜ ëŸ°ë¶ ì„¹ì…˜ ì°¸ì¡°
- **ìƒˆë¡œìš´ ê¸°ëŠ¥**: API ì—”ë“œí¬ì¸íŠ¸ ë° í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡° ì„¹ì…˜ ì°¸ì¡°
- **ë°°í¬ ì´ìŠˆ**: ë°°í¬ ë° ìš´ì˜ ì„¹ì…˜ì˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ì°¸ì¡°

**ì´ í”„ë¡œì íŠ¸ê°€ ì‚¬ìš©ìë“¤ì—ê²Œ ê±´ê°•í•œ ìŠµê´€ê³¼ í•¨ê»˜ í–‰ìš´ì„ ê°€ì ¸ë‹¤ì£¼ê¸¸ ë°”ëë‹ˆë‹¤!** ğŸ€âœ¨

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025.09.22 - ì›”ìš”ì¼ 9ì‹œ í†µí•© ìë™í™” ë° í”„ë¡œì íŠ¸ ì •ë¦¬ ì™„ë£Œ*
